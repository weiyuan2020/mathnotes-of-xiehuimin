% chap02sec01
\section{Finite, countable, and uncountable sets}

We begin this section with a definition of the \textbf{function} concept.
\begin{myDef}
    \label{myDef:2.1}
    % 2.1 Definition
    Consider two sets $A$ and $B$, whose elements may be any objects whatsoever, and suppose that with each element $x$ of $A$ there is associated, in some manner, an element of $B$, which we denote by $f(x)$. Then $f$ is said to be a \emph{function} from $A$ to $B$ (or a \emph{mapping} of $A$ into $B$). The set $A$ is called the \emph{domain} of $f$ (we also say fis defined on $A$), and the elements $f(x)$ are called the \emph{values} of $f$. The set of all values of $f$ is called the \emph{range} of $f$.
\end{myDef}

\begin{myDef}
    \label{myDef:2.2}
    % 22 Definition 
    Let $A$ and $B$ be two sets and let $f$ be a mapping of $A$ into $B$.
    If $E \subset A$, $f(E)$ is defined to be the set of all elements $f(x)$, for $x \in E$. We call $f(E)$ the image of $E$ under $f$. In this notation, $f(A)$ is the range of $f$. It is clear that $f(A) \subset B$. If $f(A) = B$, we say that $f$ maps $A$ \emph{onto} $B$. (Note that, according
    to this usage, \emph{onto} is more specific than \emph{into}.)
    \mybox{onto 满射? into 映射?} 

    If $E \subset B$, $f^{-1}(E)$ denotes the set of all $x \in A$ such that $f(x)\in E$. We call $f^{-1}(E)$ the \emph{inverse image} of $E$ under $f$. If $y \in B$, $f^{-1}(y)$ is the set of all $x \in A$ such that $f(x) =y$. If, for each $y\in B$, $f^{-1}(y)$ consists of at most one element of $A$, then $f$ is said to be a 1-1 (\emph{one-to-one}) mapping of $A$ into $B$. This may also be expressed as follows: $f$ is a 1-1 mapping of $A$ into $B$ provided that $f(x_1) \neq f(x_2)$ whenever $x_1 \neq x_2$, $x_1 \in A$, $x_2 \in A$.

    (The notation $x_1 \neq x_2$, means that $x_1$ and $x_2$ are distinct elements; otherwise we write $x_1 = x_2$.)
\end{myDef}

\begin{myDef}
    \label{myDef:2.3}
    If there exists a 1-1 mapping of $A$ \emph{onto} $B$, we say that $A$ and $B$ can be putin 1-1 correspondence, or that $A$ and $B$ have the same cardinal number, or, briefly, that $A$ and $B$ are equivalent, and we write $A\sim B$. This relation
    clearly has the following properties :

    It is reflexive: $A\sim A$.

    It is symmetric: If $A\sim B$, then $B\sim A$.

    It is transitive: If $A\sim B$ and $B\sim C$, then $A\sim C$.

    Any relation with these three properties is called an equivalence relation.    
\end{myDef}
\mybox{等价关系:自反性, 对称性, 传递性}

\mybox{集合等势是一种等价关系, 其满足自反性, 对称性, 传递性.}

\begin{myDef}
    \label{myDef:2.4}
    $\forall n\in \mathbb{N}^+$, $J_n = \{1,2,...,n\}$, $J = \{1,2,...,n,...\}$, (set consisting of all positive integers).

    $A$ is finite, $A\sim J_n$ for some n,

    $A = \varnothing$. empty set is also considered to be finite.

    $A$ is infinite, $A$ is not finite.

    $A$ is countable, $A \sim J$
    
    $A$ is uncountable. $A$ is neither finite nor countable.

    countable set and finite set are called at most countable.
\end{myDef}

\mybox{
    \begin{equation*}
        \left\{
        \begin{array}{lll}
        finite & A\sim J_n\\
        infinite &\left\{
            \begin{array}{ll}
                countable& A\sim J\\
                uncountable& \\
            \end{array}
        \right.
        \end{array}
        \right.
    \end{equation*}
}

countable sets, enumerable, denumerable.

$A, B \in$ finite set\\
$A\sim B$ $\Longleftrightarrow$ $A, B$ contains sasme number of elements

$A, B \in$ infinite set\\
same number or elements? vague\\
1-1 correspondence. retains its clarity.

\begin{myExample}
    $f:J\rightarrow A$
    \begin{equation*}
        f(n) = \left\{
            \begin{array}{ll}
                \frac{n}{2} & (n \text{even})\\
                -\frac{n-1}{2} & (n \text{odd})
            \end{array}
        \right.
    \end{equation*}
\end{myExample}
\mybox{$f(n)=(-1)^n\left\lfloor \frac{n}{2} \right\rfloor $}

\begin{myRemark}
    a finite set cannot be equivalent to one of its proper subsets, but it's possible for infinite sets.
\end{myRemark}

$J = 1,2,3,4,...$, $A = 0,1,-1,2,-2,...$,$J, A$are infinite sets, $J \subset A$.\\
but there exist a function $f:J\rightarrow A$, $J \sim A$

\begin{myDef}\label{myDef:2.7}
    $f(x)$, $x\in J = \mathbb{N}^+$.\\
    $\{x_n\}$, $x_1,x_2,x_3,...$\\
    $x_n$, terms of the sequence.\\
    $\forall n\in J$, $x_n\in A$, $\{x_n\}$ is a sequence in $A$, or a sequence of elements of $A$.
\end{myDef}

every countable set is range of a sequence of distinct terms.
the elements of any countable set can be ``arranged in a sequence''.
replace $J(\mathbb{N}^+)$ by $\mathbb{N} = \{x|, x\in Z,x \geq 0\}$, start with $0$ rather than $1$.

\begin{thm}\label{thm:2.8}
    Every infinite subset of a countable set $A$ is countable
\end{thm}

$E\subset A$. $E$ is infinite. 
To prove $E$ is countable, we need a 1-1 correspondation of $J$ to $E$, $f:J\rightarrow E$.
\mybox{
    my first guess is $A$ is a countable set, $A\sim J$ (by def).
    $\exists$ 1-1 mapping $g:$ $J$ onto $A$.
    $x\in J$, $g(x)\in A$.
    $E\subset A$, $\exists  g(x)\in E$.
    $g(x_i)\in E$, $x_i\in J$, $g:J\rightarrow E$.\\
    再证 $x_i$ 不是有限的. $E$ is infinite, there exist infinite $g(x_i)\in E$. $\because g$ is a 1-1 mapping, $\{x_i\}$ is infinite. $\therefore J\sim E$.
}

\begin{proof}
    Suppose $E\subset A$, $E$ is infinite. 
    arrange the elements $x$ of $A$ in a sequence $\{x_n\}$ of a distinct elements. Construct a sequence $n_k$ as follows.\\
    Let $n_1$ be the smallest positive int, s.t. $x_{n_1}\in E$.
    Having chosen $n_1,...n_{k-1}$,$(k=2,3,...)$, let $n_k$ be the smallest integer greater than $n_{k-1}$, s.t. $x_{n_k} \in E$.\\
    Putting $f(k) = x_{n_k}$, $f:J\rightarrow E$ is a 1-1 mapping.
\end{proof}

Countable sets represent the ``smallest'' infinity.

No uncountable set ca be a subset of a countable set.

\mybox{
    rudin 这里尝试区分实无穷与浅无穷, 
    使用集合的势来说明更为具体, 全体整数组成的集合为 ``最小'' 的无穷大, 
    其势为$\aleph_0$, 康托尔使用一一对应关系作为无穷集合之间的等价关系.
    }

\begin{myDef}\label{myDef:2.9}
    $\forall \alpha\in A$, $E_\alpha \subset \Omega$, $\{E_\alpha\}$ debites elements of $E_\alpha$. 
    collection of sets (or family of sets)  
    \mybox{sets of sets sounds strange}  
    union
    \begin{equation}\label{eq:2.1}
        S = \bigcup_{\alpha\in A} E_\alpha
    \end{equation}
    if $A$ consists of the integers $1,2,...,n$.
    \begin{equation}\label{eq:2.2}
        S = \bigcup_{m=1}^n E_m
    \end{equation}
    \begin{equation}\label{eq:2.3}
        S = E_1 \bigcup E_2 \bigcup \cdots \bigcup E_n.
    \end{equation}
    if $A$ is the set of all positive integers.
    \begin{equation}\label{eq:2.4}
        S = \bigcup_{m=1}^{\infty} E_m.
    \end{equation}
    intersection
    \begin{equation}\label{eq:2.5}
        P = \bigcap_{\alpha\in A} E_\alpha
    \end{equation}
    \begin{equation}\label{eq:2.6}
        S = \bigcap_{m=1}^n E_m = E_1 \cap E_2 \cap \cdots \cap E_n.
    \end{equation}
    \begin{equation}\label{eq:2.7}
        S = \bigcap_{m=1}^{\infty} E_m.
    \end{equation}

    $A$ and $B$ intersect if $A\bigcap B$ is not empty, otherwise they are disjoint.
\end{myDef}

\begin{myExample}
    some example of set relation
\end{myExample}

\begin{myRemark}
    Many properties of unions and intersections are quite similar to those of sums and products; in fact, the words sum and product were sometimes used in this connection, and the symbols $\sum$ and $\prod$ were written in place of $\bigcup$ and $\bigcap$.
\end{myRemark}

The commutative and associative laws are trivial:
\begin{align}
        A \cup B &= B \cup A; &
        A \cap B &= B \cap A \label{eq:2.8} \\
        \left(A \cup B\right) \cup C &= A \cup \left(B \cup C\right); &
        \left(A \cap B\right) \cap C &= A \cap \left(B \cap C\right);\label{eq:2.9}
\end{align}

Thus the omission of parentheses in \ref{eq:2.3} and \ref{eq:2.6} is justified.

The distributive law also holds:
\begin{equation}\label{eq:2.10}
    A \cap \left( B \cup C\right) = 
    \left(A \cap B\right) \cup \left(A \cap C\right).
\end{equation}
To prove this, let the left and right members of \ref{eq:2.10} be denoted by $E$ and $F$, respectively.

Suppose $x \in E$. Then $x \in A$ and $x \in B \cup C$, that is, $x \in B$ or$ x \in C$ (possibly both). Hence $x \in A\cap B$ or $x \in A\cap C$, so that $x \in F$. Thus $E \subset F$.

Next, suppose $x \in F$. Then $x \in A\cap B$ or $x \in A\cap C$. That is, $x \in A$, and $x \in B\cup C$. Hence $x \in A\cap \left(B \cup C\right)$, so that $F \subset E$.

It follows that $E = F$.

We list a few more relations which are easily verified:

\begin{align}
    A \subset A \cup B, \label{eq:2.11}\\
    A \cap B \subset B, \label{eq:2.12}
\end{align}

If $0$ denotes the empty set, then
\begin{equation}
    \begin{array}{cc}
        A \cup 0 = A, & A \cap 0 = 0.
    \end{array}
\end{equation}
If $A \subset B$, then
\begin{equation}
    \begin{array}{cc}
        A \bigcup B = B, & A \bigcap B = A.
    \end{array}
\end{equation}

\mybox{现在一般使用 $\varnothing$ 指代空集}


\begin{thm}
    \label{thm:2.12}
    Let $\{E_n\}, n=1,2,3,...,$ be a sequence of countable sets, and put
    \begin{equation}
        \label{eq:2.15}
        S = \bigcup_{n=1}^{\infty} E_n.
    \end{equation}
    Then S is countable.
\end{thm}
\mybox{
    将 $E_n$ 按顺序排成一张表格, 按反对角线重新排列成新的序列, 
    得到 $T$, $S\sim T$.
    $S$ is at most countable.
    同时存在无限集合(infinite set) $E_1$, $E_1 \subset S$, 
    $S$ is countable.
}

\begin{proof}
    Let every set $E_n$ be arranged in a sequence $\sequence{x_{nk}}$, 
    $k = 1,2,3,\dots$,
    and consider the infinite array
    \begin{equation}
        \label{eq:2.16}
        \begin{array}{ccccc}
            x_{11} & x_{12} & x_{13} & x_{14} & \cdots \\  
            x_{21} & x_{22} & x_{23} & x_{24} & \cdots \\  
            x_{31} & x_{32} & x_{33} & x_{34} & \cdots \\  
            x_{41} & x_{42} & x_{43} & x_{44} & \cdots \\  
            \cdots & \cdots & \cdots & \cdots & \cdots \\
        \end{array}
    \end{equation}
    in which the elements of $E_n$ form the $n$th row. 
    The array contains all elements of $S$.
    As indicated by the arrows, 
    these elements can be arranged in a sequence
    \begin{equation}
        \label{eq:2.17}
        x_{11};
        x_{21}, x_{12};
        x_{31}, x_{22}, x_{13};
        x_{41}, x_{32}, x_{23}, x_{14};
        \cdots
    \end{equation}
    
    If any two of the sets En have elements in common, 
    these will appear more than once in (\ref{eq:2.17}). 
    Hence there is a subset $T$ of the set of all positive integers 
    such that $S \sim T$, 
    which shows that $S$ is at most countable (Theorem \ref{thm:2.8}). 
    Since $E_1 \subset S$, and $E_1$ is infinite, 
    $S$ is infinite, and thus countable.
\end{proof}

\begin{myCorollary*}
    Suppose $A$ is at most countable, and, for every $\alpha \in A, B$, is at most countable. Put
    \begin{equation*}
        T = \bigcup_{\alpha\in A} B_\alpha.
    \end{equation*}
    Then T is at most countable.
\end{myCorollary*}

For $T$ is equivalent to a subset of \ref{eq:2.15}.

\begin{thm}
    \label{thm:2.13}
    Theorem Let $A$ be a countable set, and let $B_n$ be the set of all $n$-tuples $(a_1, ...,a_n)$, where $a_k \in  A (k=1,...,n)$, and the elements $a_1, ...,a_n$ need not be distinct. Then $B_n$ is countable.
\end{thm}

\begin{proof}
    That $B_1$ is countable is evident, since $B_1 = A$. 
    Suppose $B_{n-1}$ is countable $(n = 2, 3, 4, ... )$. 
    The elements of $B_n$ are of the from
    \begin{equation}
        \label{eq:2.18}
        (b,a)
        \quad
        (b \in B_{n-1},a \in A).
    \end{equation}
    For every fixed $b$, the set of pairs $(b, a)$ is equivalent to $A$, and hence countable. 
    Thus $B_n$ is the union of a countable set of countable sets. 
    By Theorem \ref{thm:2.12}, Bn is countable.
The theorem follows by induction.
\end{proof}

\begin{myCorollary*}
    The set of all rational numbers is countable.
\end{myCorollary*}

\begin{proof}
    We apply Theorem \ref{thm:2.13}, 
    with $n = 2$, noting that every rational $r$ is of the form $b / a$, 
    where $a$ and $b$ are integers. 
    The set of pairs $(a, b)$, 
    and therefore the set of fractions $b / a$, is countable.
\end{proof}

In fact, even the set of all algebraic numbers is countable (see Exercise 2).

That not all infinite sets are, however, countable, is shown by the next
theorem.

\begin{thm}\label{thm:2.14}
    Theorem Let $A$ be the set of all sequences whose elements are the digits $0$ and $1$. This set $A$ is uncountable. 
\end{thm}

The elements of $A$ are sequences like $1, 0, 0, 1, 0, 1, 1, 1, ... .$

\begin{proof}
    Let $E$ be a countable subset of $A$, 
    and let $E$ consist of the sequences $s_1, s_2 , s_3 , ...$. 
    We construct a sequences as follows. 
    If the $n$th digit in $s_n$ is $1$, 
    we let the $n$th digit of $s$ be $0$, and vice versa. 
    Then the sequence $s$ differs from every member of $E$ in at least one place; hence $s \not\in E$. 
    But clearly $s \in A$, so that $E$ is a proper subset of $A$.

    We have shown that 
    every countable subset of $A$ is a proper subset of $A$. 
    It follows that $A$ is uncountable 
    (for otherwise $A$ would be a proper subset of $A$, which is absurd).
\end{proof}

The idea of the above proof was first used by Cantor, 
and is called Cantor's diagonal process; 
for, if the sequences $s_1, s_2 , s_3 ,\dots$ are placed in an array like (\ref{eq:2.16}), 
it is the elements on the diagonal which are involved in the construction of the new sequence.

Readers who are familiar with the binary representation of the real numbers (base 2 instead of 10) will notice that 
Theorem \ref{thm:2.14} implies that the set of all real numbers is uncountable. 
We shall give a second proof of this fact in Theorem \ref{thm:2.43}.