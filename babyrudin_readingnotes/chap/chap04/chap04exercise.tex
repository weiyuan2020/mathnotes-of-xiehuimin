% chap04exercise
\section*{Exercises}

\begin{myExercise}
    \label{ex:4.1}
    Suppose $f$ is a real function defined on $\R^1$ which satisfies
    \begin{equation*}
        \lim_{n \to \infty} \left[ f(x+h) - f(x-h) \right] = 0
    \end{equation*}
    for every $x \in \R^1$.
    Does this implies that $f$ is continuous?
\end{myExercise}


\begin{myExercise}
    \label{ex:4.2}
    If $f$ is a continuous mapping of a metric space $X$ into a metric space $Y$, prove that 
    \begin{equation*}
        f(\overline{E}) \subset \overline{f(E)}
    \end{equation*}
    for every set $E \subset X$.
    ($\overline{E}$ denotes the closure of $E$.)
    Show, by an example, that $f(\overline{E})$ can be a proper subset of $\overline{f(E)}$.
\end{myExercise}


\begin{myExercise}
    \label{ex:4.3}
    Let $f$ be a continuous real function on a metric space $X$. 
    Let $Z(f)$ (the \emph{zero set} of $f$) 
    be the set of all $p \in X$ at which $f(p) = 0$. 
    Prove that $Z(f)$ is closed.
\end{myExercise}


\begin{myExercise}
    \label{ex:4.4}
    Let $f$ and $g$ be continuous mappings of a metric space $X$ into a metric space $Y$,
    and let $E$ be a dense subset of $X$. 
    Prove that $f(E)$ is dense in $f(X)$. 
    If $g(p) = f(p)$ for all $p \in E$, 
    prove that $g(p) = f(p)$ for all $p \in X$. 
    (In other words, a continuous mapping is determined by its values on a dense subset of its domain.)
\end{myExercise}


\begin{myExercise}
    \label{ex:4.5}
    If $f$ is a real continuous function defined on a closed set $E \subset \R^1$, prove that there exist continuous real functions $g$ on $\R^1$ such that $g(x) = f(x)$ for all $x \in E$. 

    (Such functions $g$ are called \emph{continuous extensions} of $f$ from $E$ to $\R^1$ .) 
    
    Show that the result becomes false if the word ``closed'' is omitted. Extend the result to vector-valued functions. 
    
    \emph{Hint}: Let the graph of $g$ be a straight line on each of the segments which constitute the complement of $E$ (compare Exercise \ref{ex:2.29}). 
    The result remains true if $\R^1$ is replaced by any metric space, but the proof is not so simple.
\end{myExercise}


\begin{myExercise}
    \label{ex:4.6}
    If $f$ is defined on $E$, the graph of $f$ is the set of points $(x, f(x))$, for $x \in E$. 
    In particular, if $E$ is a set of real numbers, and $f'$ is real-valued, the graph of $f$ is a subset of the plane.
    
    Suppose $E$ is compact, and prove that $f$ is continuous on $E$ if and only if its graph is compact.
\end{myExercise}


\begin{myExercise}
    \label{ex:4.7}
    If $E \subset X$ and if $f$ is a function defined on $X$, 
    the \emph{restriction} of $f$ to $E$ is the function $g$ whose domain of definition is $E$, such that $g(p) =f(p)$ for $p \in E$. 
    Define $f$ and $g$ on $\R^2$ by: 
    $f(0, 0) = g(0, 0) = 0$, 
    $f(x, y) = xy^2 /(x^2 + y^4)$, 
    $g(x, y) = xy^2 /(x^2 + y^6)$ 
    if $(x, y) \neq  (0, 0)$. 
    Prove that $f$ is bounded on $\R^2$, 
    that $g$ is unbounded in every neighborhood of $(0, 0)$, 
    and that $f$ is not continuous at $(0, 0)$; 
    nevertheless, the restrictions of both $f$ and $g$ to every straight line in $\R^2$ are continuous!
\end{myExercise}


\begin{myExercise}
    \label{ex:4.8}
    Let $f$ be a real uniformly continuous function on the bounded set $E$ in $\R^1$. 
    Prove that $f$ is bounded on $E$. 

    Show that the conclusion is false if boundedness of $E$ is omitted from the hypothesis.
\end{myExercise}


\begin{myExercise}
    \label{ex:4.9}
    Show that the requirement in the definition of uniform continuity can be rephrased as follows, in terms of diameters of sets: 
    To every $\varepsilon > 0$ there exists a $\delta > 0$ 
    such that $\diam f(E) < \varepsilon$ for all $E \subset X$ with $\diam E < \delta$.
\end{myExercise}


\begin{myExercise}
    \label{ex:4.10}
    Complete the details of the following alternative proof of Theorem \ref{thm:4.19}: 
    If $f$ is not uniformly continuous, 
    then for some $\varepsilon > 0$ there are sequences $\{p_n\}, \{q_n\}$ in $X$ such that $d_X(p_n, q_n) \rightarrow 0$ but $d_Y(f(p_n),f(q_n)) > \varepsilon$. 
    Use Theorem \ref{thm:2.37} to obtain a contradiction.
\end{myExercise}


\begin{myExercise}
    \label{ex:4.11}
    Suppose $f$ is a uniformly continuous mapping of a metric space $X$ into a metric space $Y$ and prove that $\{f(x_n)\}$ is a Cauchy sequence in $Y$ for every Cauchy sequence $\{x_n\}$ in $X$. 
    Use this result to give an alternative proof of the theorem stated in Exercise \ref{ex:4.13}.
\end{myExercise}


\begin{myExercise}
    \label{ex:4.12}
    A uniformly continuous function of a uniformly continuous function is uniformly continuous.
    
    State this more precisely and prove it.
\end{myExercise}


\begin{myExercise}
    \label{ex:4.13}
    Let $E$ be a dense subset of a metric space $X$, 
    and let $f$ be a uniformly continuous real function defined on $E$.
    Prove that $f$ has a continuous extension from $E$ to $X$
    (see Exercise \ref{ex:4.5} for terminology). 
    (Uniqueness follows from Exercise \ref{ex:4.4}.) 
    
    \emph{Hint}: For each $p \in X$ and each positive integer $n$, 
    let $V_n(p)$ be the set of all $q \in E$ with $d(p, q) < 1/n$. 
    Use Exercise \ref{ex:4.9} to show that the intersection of the closures of the sets $d(V_1(p)), d(V_2(p)), ...$ , 
    consists of a single point, say $g(p)$, of $\R^1$. 
    Prove that the function $g$ so defined on $X$ is the desired extension of $f$.
    Could the range space $\R^1$ be replaced by $\R^k$? 
    By any compact metric space?
    By any complete metric space? 
    By any metric space?
\end{myExercise}


\begin{myExercise}
    \label{ex:4.14}
    Let $I = [0, 1]$ be the closed unit interval. 
    Suppose $f$ is a continuous mapping of $f$ into $I$. 
    Prove that $f(x) = x$ for at least one $x \in I$.
\end{myExercise}


\begin{myExercise}
    \label{ex:4.15}
    Call a mapping of $X$ into $Y$ open 
    if $f(V)$ is an open set in $Y$ whenever $V$ is an open set in $X$.
    Prove that every continuous open mapping of $\R^1$ into $\R^1$ is monotonic.
\end{myExercise}


\begin{myExercise}
    \label{ex:4.16}
    Let $[x]$ denote the largest integer contained in $x$, 
    that is, $[x]$ is the integer such that $x - 1 < [x] \leq x$; 
    and let $(x) = x - [x]$ denote the fractional part of $x$. 
    What discontinuities do the functions $[x]$ and $(x)$ have?
\end{myExercise}


\begin{myExercise}
    \label{ex:4.17}
    Let $f$ be a real function defined on $(a, b)$. 
    Prove that the set of points at which $f$ has a simple discontinuity is at most countable. 
    
    \emph{Hint}: Let $E$ be the set on which $f(x-) <f(x+ )$. 
    With each point $x$ of $E$, associate a triple $(p, q, r)$ of rational numbers such that 
    \begin{enumerate}
        \item $f(x-) < p <f(x+ )$,
        \item $a < q < t < x$ implies $f(t) < p$,
        \item $x < t < r < b$ implies $f(t) > p$.
    \end{enumerate} 
    The set of all such triples is countable. 
    Show that each triple is associated with at most one point of E. Deal similarly with the other possible types of simple discontinuities.
\end{myExercise}


\begin{myExercise}
    \label{ex:4.18}
    Every rational $x$ can be written in the form $x = m/n$, 
    where $n > 0$, and $m$ and $n$ are integers without any common divisors. 
    When $x = 0$, we take $n = 1$. 
    Consider the function $f$ defined on $\R^1$ by 
    \begin{equation*}
        f(x) = \left\{ 
            \begin{array}{ll}
                0 & (x \text{ irrational}). \\
                \frac{1}{n} & \left( x = \frac{m}{n} \right) .\\
            \end{array}
        \right.
    \end{equation*} 
    Prove that $f$ is continuous at every irrational point, 
    and that $f$ has a simple discontinuity at every rational point.
\end{myExercise}


\begin{myExercise}
    \label{ex:4.19}
    Suppose $f$ is a real function with domain $\R^1$ which has the intermediate value property: 
    If $f(a)< c <f(b)$, then $f(x) = c$ for some $x$ between $a$ and $b$.
    
    Suppose also, for every rational $r$, that the set of all $x$ with $f(x) = r$ is closed. 
    
    Prove that $f$ is continuous.
    
    \emph{Hint}: If $x_n \rightarrow x_0$ but $f(x_n) > r > f(x_0)$ for some $r$ and all $n$, 
    then $f(tn) = r$ for some $t_n$ between $x_0$ and $x_n$; 
    thus $t_n \rightarrow x_0$. 
    Find a contradiction. 
    (N. J. Fine, \emph{Amer. Math. Monthly}, vol. 73, 1966, p. 782.)
\end{myExercise}


\begin{myExercise}
    \label{ex:4.20}
    If $E$ is a nonempty subset of a metric space $X$, 
    define the distance from $x \in X$ to $E$ by
    \begin{equation*}
        \rho_{E}(x)  = \inf_{z \in E} d(x,z)
    \end{equation*}
    \begin{asparaenum}[(a)]
    \item Prove that $\rho_E(x) = 0$ if and only if $x \in E$.
    \item Prove that $\rho_E$ is a uniformly continuous function on $X$, by showing that
    \begin{equation*}
        \left| \rho_E(x) - \rho_E(y) \right| \leq d(x, y)
    \end{equation*}
    for all $x \in X, y \in X$.
    \end{asparaenum}
    \emph{Hint}: $\rho_E(x) \leq d(x, z) \leq d(x, y) + d(y, z),$ 
    so that
    \begin{equation*}
        \rho_E(x) \leq d(x, y) + \rho_E(y).
    \end{equation*}
\end{myExercise}


\begin{myExercise}
    \label{ex:4.21}
    Suppose $K$ and $F$ are disjoint sets in a metric space $X$, $K$ is compact, $F$ is closed. 
    Prove that there exists $\delta > 0$ 
    such that $d(p, q) > \delta$ if $p \in K$, $q \in F$. 
    
    \emph{Hint}: $\rho_F$ is a continuous positive function on $K$.

    Show that the conclusion may fail for two disjoint closed sets if neither is compact.
\end{myExercise}


\begin{myExercise}
    \label{ex:4.22}
    Let $A$ and $B$ be disjoint nonempty closed sets in a metric space $X$, and define
    \begin{equation*}
        f(p) = \frac{\rho_A(p)}{\rho_A(p) + \rho_B(p)}
        \quad 
        (p \in X).
    \end{equation*}
    Show that $f$ is a continuous function on $X$ whose range lies in $[0, 1]$, that $f(p) = 0$ precisely on $A$ and $f(p) = 1$ precisely on $B$. 
    This establishes a converse of Exercise \ref{ex:4.3}: 
    Every closed set $A \subset X$ is $Z(f)$ for some continuous real $f$ on $X$. 
    Setting 
    \begin{equation*}
        V = f^{-1}([0, \tfrac{1}{2})), 
        \quad 
        W = f^{-1}((\tfrac{1}{2}, 1]),
    \end{equation*}
    show that $V$ and $W$ are open and disjoint, 
    and that $A \subset V$, $B \subset W$. 
    (Thus pairs of disjoint closed sets in a metric space can be covered by pairs of disjoint open sets. 
    This property of metric spaces is called \emph{normality}.)
\end{myExercise}


\begin{myExercise}
    \label{ex:4.23}
    A real-valued function $f$ defined in $(a, b)$ is said to be \emph{convex} if
    \begin{equation*}
        f(\lambda x + (1-\lambda)y) \leq
        \lambda f(x) + (1-\lambda)f(y)
    \end{equation*}
    whenever $a < x < b, a < y < b, 0 < \lambda < 1$. 
    Prove that every convex function is continuous. 
    Prove that every increasing convex function of a convex function is convex. 
    (For example, if $f$ is convex, so is $e^f$.)

    If $f$ is convex in $(a, b)$ and if $a< s < t < u < b$, show that
    \begin{equation*}
        \frac{f(t) - f(s)}{t - s} \leq
        \frac{f(u) - f(s)}{u - s} \leq
        \frac{f(u) - f(t)}{u - t}  .
    \end{equation*}
\end{myExercise}


\begin{myExercise}
    \label{ex:4.24}
    Assume that $f$ is a continuous real function defined in $(a, b)$ such that
    \begin{equation*}
        f\left( \frac{x+y}{2} \right) \leq 
        \frac{f(x) + f(y)}{2}
    \end{equation*}
    for all $x, y \in  (a, b)$. 
    Prove that $f$ is convex.
\end{myExercise}


\begin{myExercise}
    \label{ex:4.25}
    If $A \subset \R^t$ and $B \subset \R^t$, 
    define $A + B$ to be the set of all sums $x + y$ with $x \in A$, $y \in B$.
    \begin{enumerate}[(a)]
        \item If $K$ is compact and $C$ is closed in $\R^t$, 
        prove that $K + C$ is closed.

        \emph{Hint}: Take $\mathbf{z} \not\in K + C$, put $F= \mathbf{z}- C$, the set of all $\mathbf{z- y}$ with $\mathbf{y} \in C$. 
        Then $K$ and $F$ are disjoint. 
        Choose $\delta$ as in Exercise \ref{ex:4.24}. 
        Show that the open ball with center $\mathbf{z}$ and radius $\delta$ does not intersect $K + C$.
        \item Let $\alpha$ be an irrational real number. 
        Let $C_1$ be the set of all integers, 
        let $C_2$ be the set of all $n\alpha$ with $n \in C_1$. 
        Show that $C_1$ and $C_2$ are closed subsets of $\R^1$ whose
        sum $C_1 + C_2$ is not closed, by showing that $C_1 + C_2$ is a countable dense subset of $\R^1$.
    \end{enumerate}
\end{myExercise}


\begin{myExercise}
    \label{ex:4.26}
    Suppose $X, Y, Z$ are metric spaces, and $Y$ is compact. 
    Let $f$ map $X$ into $Y$, 
    let $g$ be a continuous one-to-one mapping of $Y$ into $Z$, 
    and put $h(x) = g(f(x))$ for $x \in X$.

    Prove that $f$ is uniformly continuous if $h$ is uniformly continuous.
    
    \emph{Hint}: $g^{-1}$ has compact domain $g(Y)$, and $f(x) = g^{-1}(h(x))$. 
    
    Prove also that $f$ is continuous if $h$ is continuous. 

    Show (by modifying Example \ref{ex:4.21}, or by finding a different example) that the compactness of $Y$ cannot be omitted from the hypotheses, even when $X$ and $Z$ are compact.
\end{myExercise}